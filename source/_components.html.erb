<script type="text/ruby">

class CodeEditor < React::Component::Base

  define_state :code, type: String

  before_mount do
    state.code! "I am the code"
  end

  render do
    div.row do
      div.col_md_6 { code_card }
      div.col_md_6 { result_card }
    end
  end

  def code_card
    div.card_block do
      input(type: :text, value: state.code, placeholder: "placeholder"
      ).on(:change) do |e|
        state.code! e.target.value
      end
    end
  end

  def result_card
    div.card_block do
      p { state.code }
    end
  end
end

class TestApp < React::Component::Base
  param :name
  before_mount { @timer = every(1) { force_update! } }
  render(DIV) do
    h1 {"The current time is #{Time.now}"}
    h2 { "here hello #{params.name}" }.on(:click) do
     alert "you clicked"
    end
  end
end

</script>
